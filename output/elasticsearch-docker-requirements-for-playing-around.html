<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Elasticsearch Docker Requirements (for Playing Around) - Jay&#39;s Elastic Stack Blog</title>
    <link rel="stylesheet" type="text/css" href="/static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="/static/tailwind.css" />
    
<link rel="stylesheet" type="text/css" href="/static/content.css" />

  </head>
  <body>
    <div class="container">
      <div class="bg-gray-600 mb-6 p-6 text-white flex items-baseline">
        <h1 class="text-3xl font-bold mr-4"><a href="/">Jay&#39;s Elastic Stack Blog</a></h1>
        <h3 class="text-xl"><a href="myblog.html">Posts</a></h3>
      </div>
      
<h1 class="text-5xl m-5">Elasticsearch Docker Requirements (for Playing Around)</h1>
<h3 class="m-5 small">Sep 23, 2021 14:35 PM</h3>
<article class="mx-5"><p>Two days later, I'm writing this to remind myself of a few things in my docker playground setup.</p>

<h2>If You Get a Licensing Error in Kibana, Check Docker to See If Elasticsearch Is Still Running</h2>

<p>Kibana will default to some imaginary Elasticsearch instance<sup class="footnote-ref" id="fnref-1"><a href="#fn-1">1</a></sup> that it can't reach. I do know that part of this is to check for licensing (even if you are using the free license). This is why you may see the error <code>{"statusCode":503,"error":"Service Unavailable","message":"License is not available."}</code></p>

<p>Elasticsearch containers don't just turn off on their own for no reason so this usually means there is another issue which I will point to in the next step.</p>

<h2>If Your Setup Keeps Crashing, You May Need to Increase the Resources That Docker Can Utilize</h2>

<p>Elasticsearch Enterprise Search is a little resources intensive. Sometimes my eyes miss the warning in the <a href="https://www.elastic.co/guide/en/enterprise-search/current/docker.html#docker-compose-example">Running Enterprise Search with Docker Compose</a> section that you should be allocating at least 4GB RAM.</p>

<blockquote>
  <p>Make sure Docker Engine is allotted at least 4GiB of memory. In Docker Desktop, you configure resource usage on the Advanced tab in Preference (macOS) or Settings (Windows).</p>
</blockquote>

<p><img src="https://kjaymiller.s3-us-west-2.amazonaws.com/images/docker-ent-search-settings-resources.png" alt="Enterprise Search Docker Settings" /></p>

<p>To adjust via the GUI (macOS):</p>

<ol>
<li>Select <em>Settings</em> gear in the top corner</li>
<li>Select <em>Resources</em> menu option</li>
<li>Select the <em>Advanced</em> submenu</li>
<li>Adjust memory to <em>at least</em> 4GB.</li>
</ol>

<div class="footnotes">
<hr />
<ol>
<li id="fn-1">
<p>TODO: Learn what this default instance is and why it exists. Maybe also figure out how to sound the alarm when Kibana is trying to reach it!&#160;<a href="#fnref-1" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</article>
 <footer class="object-bottom pin-b bg-gray-100 px-4 my-4">
	  <div class="container">
		<p> More content @ kjaymiller.com</p>
		<p>Website made with <a
								href="https://github.com/kjaymiller/render_engine">Render Engine</a> and <a href="https://tailwindcss.com">TailwindCSS</a>
		<div>
		  <p>
			 <a href="/blog.rss.xml"><span class="icon"><i class="fas fa-rss"></i></a>
		  </p>
		</div>
	  </div>
	</footer>
	
    </div>
  </body>
</html>